<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Smart Plant Monitor</title>

<style>
body{
  font-family:sans-serif;
  background:#111;
  color:white;
  text-align:center;
}
.card{
  background:#1c1c1c;
  padding:20px;
  margin:15px;
  border-radius:12px;
}
button{
  padding:12px 20px;
  margin:10px;
  border:none;
  border-radius:8px;
  font-size:16px;
  cursor:pointer;
}
.on{background:#00c853;color:white;}
.off{background:red;color:white;}
.online{color:#00ff88;}
.offline{color:red;}
</style>
</head>

<body>

<h2>ğŸŒ± Smart Plant Monitor</h2>

<div class="card">
<h3>ğŸŒ¡ Temperature</h3>
<p id="temp">--</p>
</div>

<div class="card">
<h3>ğŸ’§ Humidity</h3>
<p id="humi">--</p>
</div>

<div class="card">
<h3>ğŸ“¡ Sensor Status</h3>
<p id="status">à¸à¸³à¸¥à¸±à¸‡à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­...</p>
</div>

<div class="card">
<h3>ğŸ”Š Buzzer Control</h3>
<button class="on" onclick="turnOn()">à¹€à¸›à¸´à¸”à¹€à¸ªà¸µà¸¢à¸‡</button>
<button class="off" onclick="turnOff()">à¸›à¸´à¸”à¹€à¸ªà¸µà¸¢à¸‡</button>
</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getDatabase, ref, onValue, set } 
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyDZIwpGy6Zz4pLhejIAfP-EaBKUyXgJwc",
  authDomain: "kjszz-1a818.firebaseapp.com",
  databaseURL: "https://kjszz-1a818-default-rtdb.firebaseio.com",
  projectId: "kjszz-1a818",
  storageBucket: "kjszz-1a818.firebasestorage.app",
  messagingSenderId: "1056726378754",
  appId: "1:1056726378754:web:fea6e2b60dcda89783a1b",
  measurementId: "G-S1WLLDNQ15"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

/* ===== realtime sensor ===== */
onValue(ref(db,"sensor/temp"),snap=>{
  document.getElementById("temp").innerText =
  snap.val()+" Â°C";
});

onValue(ref(db,"sensor/humi"),snap=>{
  document.getElementById("humi").innerText =
  snap.val()+" %";
});

/* ===== status online ===== */
onValue(ref(db,"sensor/status"),snap=>{
  if(snap.val()==="online"){
    document.getElementById("status").innerHTML =
    "<span class='online'>à¸­à¸­à¸™à¹„à¸¥à¸™à¹Œ</span>";
  }else{
    document.getElementById("status").innerHTML =
    "<span class='offline'>à¸­à¸­à¸Ÿà¹„à¸¥à¸™à¹Œ</span>";
  }
});

/* ===== buzzer control ===== */
window.turnOn=function(){
  set(ref(db,"buzzer"),1);
}

window.turnOff=function(){
  set(ref(db,"buzzer"),0);
}

</script>

</body>
</html>
